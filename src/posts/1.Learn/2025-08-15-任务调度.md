# 任务调度


### 整体分析
```
单表的计算依赖路径为一个：n:1的模型（输入n个1表，输出1个表）
明细依赖：BROADCAST_DWD+BASE_DWD->FAT_DWD->ADS
统计依赖：BROADCAST_DWD+BASE_DWD->FAT_DWD->AGG_DWS->ADS(UNION+JOIN)

无论是明细还是统计，单表依赖满足Tree结构，因为这个是n：1对应关系的必然结果
一个典型的数据仓库中的依赖是所有树关系的叠加形成的有向无环图，复用度越高叠加效果越强
如果树关系节点只考虑基于Snowflake模型的复用，也就是join模型（A = A1 left join A2 left join A3 left join AN）【聚合尽量1:1】
整个计算任务优化的核心就是join过程（复用+优化）
```

### 核心结构

```
树与图结构代码依赖：树结构是不会有循环依赖的，但是树结构是划分，图结构才能复用
```

### 构建优化过程
```
1.代码框架中进行节点设定
2.设定单任务自动生成上游任务依赖
3.配置上游依赖的物化存储方式
4.将多个任务的上游任务依赖进行合并统一调度
```


