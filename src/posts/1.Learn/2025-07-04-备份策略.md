# 备份策略

### 策略A

```
1.所有的表分类为Join/View/MergeTree/Merge/Set
2.Join/view/MergeTree进行DDL备份
3.数据=t-1自动恢复+历史数据恢复（记录好恢复时间）+需备份数据表
4.清理无效1.0数据
```

##### 备份

```
1.每天进行数据库全量DDL备份
2.记录需要备份历史的数据
3.备份需要备份的数据表(t+1)
```

#####  恢复
```
1.DDL恢复(Join->Merge->View)
2.恢复备份数据
3.运行一次t-1任务
4.恢复历史数据
```

#### 策略B

```
1.交给CK的replicate表引擎
```

##### 备份

```
1.插入时自动备份
```

##### 恢复

```
1.节点自动恢复
```

#####  注意

```
1.先小范围测试建表
2.内部环境先弄个一样的

```


